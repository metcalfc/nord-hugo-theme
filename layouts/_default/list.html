{{ define "main" }}
<div class="posts-list">
    <header class="list-header">
        {{ if eq .Kind "term" }}
            <h1>{{ .Data.Singular | title }}: {{ .Title }}</h1>
        {{ else if eq .Kind "taxonomyTerm" }}
            <h1>{{ .Data.Plural | title }}</h1>
        {{ else }}
            <h1>{{ .Title }}</h1>
        {{ end }}
        
        {{ with .Description }}
        <div class="list-description">
            {{ . }}
        </div>
        {{ end }}
    </header>
    
    {{ if eq .Kind "taxonomyTerm" }}
    <!-- Display list of terms (e.g., list of all tag names) -->
    <ul class="taxonomy-list">
        {{ range .Data.Terms.Alphabetical }}
        <li>
            <a href="{{ .Page.RelPermalink }}">
                {{ .Page.Title }} ({{ .Count }})
            </a>
        </li>
        {{ end }}
    </ul>
    {{ else }}
    <!-- Display paginated list of content -->
    {{ $paginator := .Paginate .Pages }}
    
    {{ range $paginator.Pages }}
    <article class="list-item">
        <h2 class="post-title">
            <a href="{{ .RelPermalink }}">{{ .Title }}</a>
        </h2>
        
        {{ if ne .Kind "term" }}
        <div class="post-meta">
            <time datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" }}">
                {{ .Date.Format "January 2, 2006" }}
            </time>
            {{ with .Params.author }}
            • <span class="post-author">{{ . }}</span>
            {{ end }}
            {{ if $.Site.Params.showReadingTime }}
            • <span class="reading-time">{{ .ReadingTime }} min read</span>
            {{ end }}
        </div>
        {{ end }}
        
        {{ with .Params.tags }}
        <div class="post-tags">
            {{ range . }}
            <a href="{{ "tags/" | relLangURL }}{{ . | urlize }}">{{ . }}</a>
            {{ end }}
        </div>
        {{ end }}
        
        <div class="post-summary">
            {{ with .Description }}
                {{ . }}
            {{ else }}
                {{ .Summary }}
            {{ end }}
        </div>
        
        {{ if ne .Kind "term" }}
        <a href="{{ .RelPermalink }}" class="read-more">Read More</a>
        {{ end }}
    </article>
    {{ end }}
    
    {{ partial "pagination.html" . }}
    {{ end }}
</div>
{{ end }}
